<!doctype html><html lang=zh-cn><head><title>014-Catalina macOS 10.15 下 CGO 不能运行的解决方案 · zlog think
</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=author content="Deshui Yu"><meta name=description content="### golang fatal error: &lsquo;CoreFoundation/CoreFoundation.h&rsquo; file not found&#34; 链接到标题 Macos升级到10.15版本后，Catalina macOS 10.15 下 CGO 不能运行的解决方案
/usr/local/go/src/crypto/x509/root_cgo_darwin.go:16:10: fatal error: 'CoreFoundation/CoreFoundation.h' file not found 其原因是因为/System/Library/Frameworks/CoreFoundation.framework没有头文件导致
解决方案：
1、首先确认xcode是否升级到最新版本，在appstore中升级到最新
2、执行 csrutil disable
3、执行 sudo mount -uw /	# 根目录挂载为可读写
4、将头文件ln 软链接到指定的目录
cd /System/Library/Frameworks/CoreFoundation.framework ln -s /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/System/Library/Frameworks/CoreFoundation.framework/Headers Headers ln -s /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/System/Library/Frameworks/CoreFoundation.framework/Modules Modules cd /System/Library/Frameworks/Security.framework ln -s /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/System/Library/Frameworks/Security.framework/Headers Headers ln -s /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/System/Library/Frameworks/Security.framework/Modules Modules 完美解决！"><meta name=keywords content="blog,developer,personal"><meta name=fediverse:creator content><meta name=twitter:card content="summary"><meta name=twitter:title content="014-Catalina macOS 10.15 下 CGO 不能运行的解决方案"><meta name=twitter:description content="### golang fatal error: ‘CoreFoundation/CoreFoundation.h’ file not found&#34; 链接到标题 Macos升级到10.15版本后，Catalina macOS 10.15 下 CGO 不能运行的解决方案
/usr/local/go/src/crypto/x509/root_cgo_darwin.go:16:10: fatal error: 'CoreFoundation/CoreFoundation.h' file not found 其原因是因为/System/Library/Frameworks/CoreFoundation.framework没有头文件导致
解决方案：
1、首先确认xcode是否升级到最新版本，在appstore中升级到最新
2、执行 csrutil disable
3、执行 sudo mount -uw /	# 根目录挂载为可读写
4、将头文件ln 软链接到指定的目录
cd /System/Library/Frameworks/CoreFoundation.framework ln -s /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/System/Library/Frameworks/CoreFoundation.framework/Headers Headers ln -s /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/System/Library/Frameworks/CoreFoundation.framework/Modules Modules cd /System/Library/Frameworks/Security.framework ln -s /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/System/Library/Frameworks/Security.framework/Headers Headers ln -s /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/System/Library/Frameworks/Security.framework/Modules Modules 完美解决！"><meta property="og:url" content="/devs/experience/macos-10.15-go%E4%B8%8D%E8%83%BD%E6%AD%A3%E5%B8%B8%E8%BF%90%E8%A1%8C/"><meta property="og:site_name" content="zlog think"><meta property="og:title" content="014-Catalina macOS 10.15 下 CGO 不能运行的解决方案"><meta property="og:description" content="### golang fatal error: ‘CoreFoundation/CoreFoundation.h’ file not found&#34; 链接到标题 Macos升级到10.15版本后，Catalina macOS 10.15 下 CGO 不能运行的解决方案
/usr/local/go/src/crypto/x509/root_cgo_darwin.go:16:10: fatal error: 'CoreFoundation/CoreFoundation.h' file not found 其原因是因为/System/Library/Frameworks/CoreFoundation.framework没有头文件导致
解决方案：
1、首先确认xcode是否升级到最新版本，在appstore中升级到最新
2、执行 csrutil disable
3、执行 sudo mount -uw /	# 根目录挂载为可读写
4、将头文件ln 软链接到指定的目录
cd /System/Library/Frameworks/CoreFoundation.framework ln -s /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/System/Library/Frameworks/CoreFoundation.framework/Headers Headers ln -s /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/System/Library/Frameworks/CoreFoundation.framework/Modules Modules cd /System/Library/Frameworks/Security.framework ln -s /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/System/Library/Frameworks/Security.framework/Headers Headers ln -s /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/System/Library/Frameworks/Security.framework/Modules Modules 完美解决！"><meta property="og:locale" content="zh_cn"><meta property="og:type" content="article"><meta property="article:section" content="devs"><meta property="article:published_time" content="2020-09-15T20:52:33+08:00"><meta property="article:modified_time" content="2020-09-15T20:52:33+08:00"><meta property="article:tag" content="Mac"><meta name=google-adsense-account content="ca-pub-8308665726033207"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/lxgw-wenkai-webfont/1.7.0/lxgwwenkai-regular.min.css integrity="sha512-Fzvxn9FrR1aKr/Z4Pg9KpnVHCsJoq2QwSu1juU2oQ6wDUkUMk3qQUUWKgFjk0m0LzCamIJVOkg5zeyNX5I1wgA==" crossorigin=anonymous referrerpolicy=no-referrer><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8308665726033207" crossorigin=anonymous></script><link rel=canonical href=/devs/experience/macos-10.15-go%E4%B8%8D%E8%83%BD%E6%AD%A3%E5%B8%B8%E8%BF%90%E8%A1%8C/><link rel=preload href=/fonts/fa-brands-400.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/fonts/fa-regular-400.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/fonts/fa-solid-900.woff2 as=font type=font/woff2 crossorigin><link rel=stylesheet href=/css/coder.min.84d1521389499ddce620684e47d05ee012a7036dc488e2e18c6cf64ea0d0a780.css integrity="sha256-hNFSE4lJndzmIGhOR9Be4BKnA23EiOLhjGz2TqDQp4A=" crossorigin=anonymous media=screen><link rel=icon type=image/svg+xml href=/images/favicon.svg sizes=any><link rel=icon type=image/png href=/images/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/images/favicon-16x16.png sizes=16x16><link rel=apple-touch-icon href=/images/apple-touch-icon.png><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/images/safari-pinned-tab.svg color=#5bbad5><script src=https://cdnjs.cloudflare.com/ajax/libs/heti/0.9.4/heti-addon.min.js integrity="sha512-GChf2qekcjrSoPicCypQLPqkaZkEnkcsJr85AmkczY0HG5SkfbxOmZY6RoFJLdoeKTGk8EZvkRBaF7BIqV1Ipw==" crossorigin=anonymous referrerpolicy=no-referrer></script><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/heti/0.9.4/heti.min.css integrity="sha512-/My2cHBMxofuHmAIIK29zje0pIqA2iCC9HDMa76E1jzK5u+wudGzJMMnTsdA5FmVGsoXB1xoJM7fKhniOhz+HA==" crossorigin=anonymous referrerpolicy=no-referrer></head><body class="preload-transitions colorscheme-light"><div class=float-container><a id=dark-mode-toggle class=colorscheme-toggle><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></a></div><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=/>zlog think
</a><input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa-solid fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=/readings/>读书</a></li><li class=navigation-item><a class=navigation-link href=/posts/>技术</a></li><li class=navigation-item><a class=navigation-link href=/about/>关于我</a></li></ul></section></nav><div class=content><section class="container page"><article><header><h1 class=title><a class=title-link href=/devs/experience/macos-10.15-go%E4%B8%8D%E8%83%BD%E6%AD%A3%E5%B8%B8%E8%BF%90%E8%A1%8C/>014-Catalina macOS 10.15 下 CGO 不能运行的解决方案</a></h1></header><h3 id=--golang-fatal-error-corefoundationcorefoundationh-file-not-found>### golang fatal error: &lsquo;CoreFoundation/CoreFoundation.h&rsquo; file not found"
<a class=heading-link href=#--golang-fatal-error-corefoundationcorefoundationh-file-not-found><i class="fa-solid fa-link" aria-hidden=true title=链接到标题></i>
<span class=sr-only>链接到标题</span></a></h3><p>Macos升级到10.15版本后，Catalina macOS 10.15 下 CGO 不能运行的解决方案</p><pre tabindex=0><code>/usr/local/go/src/crypto/x509/root_cgo_darwin.go:16:10: fatal error: &#39;CoreFoundation/CoreFoundation.h&#39; file not found
</code></pre><p>其原因是因为/System/Library/Frameworks/CoreFoundation.framework没有头文件导致</p><p>解决方案：</p><p>1、首先确认xcode是否升级到最新版本，在appstore中升级到最新</p><p>2、执行 <code>csrutil disable</code></p><p>3、执行 <code>sudo mount -uw / # 根目录挂载为可读写</code></p><p>4、将头文件ln 软链接到指定的目录</p><pre tabindex=0><code>cd /System/Library/Frameworks/CoreFoundation.framework
ln -s /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/System/Library/Frameworks/CoreFoundation.framework/Headers Headers
ln -s /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/System/Library/Frameworks/CoreFoundation.framework/Modules Modules

cd /System/Library/Frameworks/Security.framework
ln -s /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/System/Library/Frameworks/Security.framework/Headers Headers
ln -s /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/System/Library/Frameworks/Security.framework/Modules Modules
</code></pre><p>完美解决！</p></article></section></div><footer class=footer><section class=container>©
2015 -
2024
Deshui Yu
·</section></footer></main><script src=/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-RYHFS1K5ZH"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-RYHFS1K5ZH")</script></body></html>