<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>MacOS on Zen</title>
    <link>/tags/macos/</link>
    <description>Recent content in MacOS on Zen</description>
    <generator>Hugo -- 0.152.2</generator>
    <language>zh</language>
    <lastBuildDate>Tue, 15 Sep 2020 20:52:33 +0800</lastBuildDate>
    <atom:link href="/tags/macos/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>macOS 10.15 下 CGO 不能运行的解决方案</title>
      <link>/tech/experience/macos-cgo/</link>
      <pubDate>Tue, 15 Sep 2020 20:52:33 +0800</pubDate>
      <guid>/tech/experience/macos-cgo/</guid>
      <description>&lt;h3 id=&#34;--golang-fatal-error-corefoundationcorefoundationh-file-not-found&#34;&gt;###  golang fatal error: &amp;lsquo;CoreFoundation/CoreFoundation.h&amp;rsquo; file not found&amp;quot;&lt;/h3&gt;
&lt;p&gt;Macos升级到10.15版本后，Catalina macOS 10.15 下 CGO 不能运行的解决方案&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;/usr/local/go/src/crypto/x509/root_cgo_darwin.go:16:10: fatal error: &amp;#39;CoreFoundation/CoreFoundation.h&amp;#39; file not found
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;其原因是因为/System/Library/Frameworks/CoreFoundation.framework没有头文件导致&lt;/p&gt;
&lt;p&gt;解决方案：&lt;/p&gt;
&lt;p&gt;1、首先确认xcode是否升级到最新版本，在appstore中升级到最新&lt;/p&gt;
&lt;p&gt;2、执行 &lt;code&gt;csrutil disable&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;3、执行 &lt;code&gt;sudo mount -uw /	# 根目录挂载为可读写&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;4、将头文件ln 软链接到指定的目录&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;cd /System/Library/Frameworks/CoreFoundation.framework
ln -s /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/System/Library/Frameworks/CoreFoundation.framework/Headers Headers
ln -s /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/System/Library/Frameworks/CoreFoundation.framework/Modules Modules

cd /System/Library/Frameworks/Security.framework
ln -s /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/System/Library/Frameworks/Security.framework/Headers Headers
ln -s /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/System/Library/Frameworks/Security.framework/Modules Modules
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;完美解决！&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
